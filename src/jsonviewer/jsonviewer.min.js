!function(n){"use strict";function a(a,s){a.html('<ul class="jjson-container"></ul>');try{var t=n.parseJSON(a.data("jjson"));a.find(".jjson-container").append(e([t],s))}catch(n){a.prepend('<div class="jjson-error" >'+n.toString()+" </div>"),a.find(".jjson-container").append(a.data("jjson"))}}function s(n){return n?"expanded":"expanded collapsed hidden"}function e(n,a){var e="";for(var t in n)if(n.hasOwnProperty(t)){var l=n[t],r=typeof n[t];e+=o(t,l,r,s(a))}return e}function t(a){return n("<div/>").text(a).html()}function o(a,s,o,l){var r="object",i="{",p="}";if(n.isArray(s)&&(r="array",i="[",p="]"),null===s)return'<li><span class="key">'+t(a)+': </span><span class="null">null</span></li>';if("object"==o){var c='<li><span class="'+l+'"></span><span class="key">'+t(a)+': </span> <span class="open">'+i+'</span> <ul class="'+r+'">';return(c+=e(s,!1))+'</ul><span class="close">'+p+"</span></li>"}return"number"==o||"boolean"==o?'<li><span class="key">'+t(a)+': </span><span class="'+o+'">'+t(s)+"</span></li>":'<li><span class="key">'+t(a)+': </span><span class="'+o+'">"'+t(s)+'"</span></li>'}n.fn.jsonviewer=function(s,e){return this.each(function(){var t=n(this);"string"==typeof s?t.data("jjson",s):"object"==typeof s?t.data("jjson",JSON.stringify(s)):t.data("jjson",""),new a(t,e)})},n(document).on("click",".jjson-container .expanded",function(a){a.preventDefault(),a.stopPropagation();var s=n(this);s.parent().find(">ul").slideUp(100,function(){s.addClass("collapsed")})}),n(document).on("click",".jjson-container .expanded.collapsed",function(a){a.preventDefault(),a.stopPropagation();var s=n(this);s.removeClass("collapsed").parent().find(">ul").slideDown(100,function(){s.removeClass("collapsed").removeClass("hidden")})}),a.prototype.defaults={expanded:!1}}(window.jQuery);