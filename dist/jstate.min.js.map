{"version":3,"sources":["jstate.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","jstate","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","Object","defineProperty","value","_store","enumerable","get","state","setState","register","jQuery","STORE","keys","forEach","key","$","getOwnPropertyDescriptor","./store","2","_extends","assign","target","arguments","source","prototype","hasOwnProperty","_typeof","Symbol","iterator","obj","constructor","_state","_middlewares","default","JSON","parse","stringify","partialState","TypeError","overwriteState","newState","_len","middlewares","Array","_key","concat","chain","reduceRight","prev","cur","next","name"],"mappings":"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","file":"jstate.min.js","sourcesContent":["/*********************************************************\n * jstate - Really friendly Flux implementation\n * @version v1.0.0\n * @link https://github.com/rannn505/jstate#readme\n * @copyright Copyright (c) 2017 Ran Cohen <rannn505@outlook.com>\n * @license MIT (http://www.opensource.org/licenses/mit-license.php)\n * @Compiled At: 2017-10-11\n  *********************************************************/\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.jstate = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _store = require('./store');\n\nObject.defineProperty(exports, 'state', {\n  enumerable: true,\n  get: function get() {\n    return _store.state;\n  }\n});\nObject.defineProperty(exports, 'setState', {\n  enumerable: true,\n  get: function get() {\n    return _store.setState;\n  }\n});\nObject.defineProperty(exports, 'register', {\n  enumerable: true,\n  get: function get() {\n    return _store.register;\n  }\n});\n\n\nif (!global.jQuery) {\n  global['$'] = {};\n}\nvar STORE = require('./store');\nObject.keys(STORE).forEach(function (key) {\n  return key !== 'overwriteState' && Object.defineProperty(global.$, key, Object.getOwnPropertyDescriptor(STORE, key));\n});\nObject.defineProperty(global.$, '_', Object.getOwnPropertyDescriptor(STORE, 'state'));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./store\":2}],2:[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _state = {};\nvar _middlewares = [];\n\nexports.default = {\n  get state() {\n    // return Object.assign({}, _state);\n    return JSON.parse(JSON.stringify(_state));\n  },\n  setState: function setState(partialState) {\n    if ((typeof partialState === 'undefined' ? 'undefined' : _typeof(partialState)) !== 'object') {\n      throw new TypeError('setState() takes an object of state variables to update');\n    }\n    _state = _extends({}, _state, partialState);\n  },\n  overwriteState: function overwriteState(newState) {\n    _state = _extends({}, newState);\n  },\n  register: function register() {\n    for (var _len = arguments.length, middlewares = Array(_len), _key = 0; _key < _len; _key++) {\n      middlewares[_key] = arguments[_key];\n    }\n\n    _middlewares = _middlewares.concat(middlewares);\n    var chain = _middlewares.reduceRight(function (prev, cur) {\n      return function (next) {\n        return prev(cur(next));\n      };\n    })(function (partialState) {\n      return _state = _extends({}, _state, partialState);\n    });\n    module.exports.setState = chain;\n    global['$'].setState = chain;\n    module.exports.overwriteState = _middlewares.reduceRight(function (prev, cur) {\n      if (cur.name === '__DEVTOOLS__') {\n        return prev;\n      }\n      return function (next) {\n        return prev(cur(next));\n      };\n    })(function (newState) {\n      return _state = _extends({}, newState);\n    });\n  }\n};\nmodule.exports = exports['default'];\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}]},{},[1])(1)\n});"]}