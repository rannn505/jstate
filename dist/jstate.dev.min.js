!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.jstate=e()}}(function(){return function e(t,n,o){function r(s,a){if(!n[s]){if(!t[s]){var d="function"==typeof require&&require;if(!a&&d)return d(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return r(n||e)},l,l.exports,e,t,n,o)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(e,t,n){"use strict";function o(){var e=window.open(null,"jstate-dev-tools","width=400,height=600,menubar=no,location=no,resizable=yes,scrollbars=no,status=no");e.location.reload();var t=[],n=!1,o=function n(){if(0!==t.length)return e.postMessage(t.shift(),"*"),n()};setTimeout(function(){e.opener={notifyReady:function(){n=!0,o()},setState:r.setState,overwriteState:r.overwriteState,register:r.register},e.document.write(s.default)},0);var i=function(e){return function(i){var s=r.state;e(i),t.push({action:i,state:r.state,oldState:s}),n&&o()}};(0,r.register)(i)}Object.defineProperty(n,"__esModule",{value:!0}),n.showDevTools=o;var r=e("./store"),i=e("./devToolsTemplate.html"),s=function(e){return e&&e.__esModule?e:{default:e}}(i)},{"./devToolsTemplate.html":2,"./store":4}],2:[function(e,t,n){t.exports='<!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <meta charset="utf-8">\r\n  <meta content="IE=edge" http-equiv="X-UA-Compatible">\r\n  <meta name="viewport" content="width=device-width,initial-scale=1">\r\n  <title> jState DevTools </title>\r\n  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inconsolata" media="screen">\r\n  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" media="screen">\r\n  \x3c!-- <link rel="stylesheet" href="./jsonviewer/jsonviewer.min.css" media="screen"> --\x3e\r\n  <link rel="stylesheet" href="https://cdn.rawgit.com/rannn505/jstate/master/src/jsonviewer/jsonviewer.min.css" media="screen">\r\n  <link rel="stylesheet" href="https://cdn.rawgit.com/benjamine/jsondiffpatch/master/public/formatters-styles/html.css" media="screen">\r\n  <link rel="stylesheet" href="https://cdn.rawgit.com/benjamine/jsondiffpatch/master/public/formatters-styles/annotated.css" media="screen">\r\n  <style>body{position:fixed;top:0;bottom:0;left:0;right:0;padding:0;margin:0;color:#6e6e6e;list-style:none;background-color:#fff;font-family:Inconsolata,monospace;min-height:325px;min-width:325px}.container{width:100%;height:100%;overflow:hidden;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:column;flex-flow:column}.title{font-size:14px;text-align:center}.btns{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;flex-flow:row wrap}.actions{flex:10 2;overflow-y:auto;overflow-x:hidden}.btn{background-color:#fff;border:1px solid #ccc;color:#555;font-family:monospace;border-radius:1px;padding:5px 10px;text-align:center;text-decoration:none;display:inline-block;font-size:14px}.btn:hover{background-color:#ccc}.btn:active{background-color:#c1c1c1}.input{padding:6px 12px;font-size:14px;font-family:Inconsolata,monospace;line-height:1.42857143;color:#555;background-color:#fff;border:1px solid #ccc;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.hr{width:100%}@keyframes example{from{opacity:1}to{opacity:0}}.circle:before{position:absolute;top:10px;right:15px;color:#90ee90;content:\'\\25CF\';font-size:30px}::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,.3);-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}::-webkit-scrollbar{width:4px}::-webkit-scrollbar-thumb{background:rgba(60,63,65,.8);box-shadow:inset 0 0 6px rgba(0,0,0,.5);-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.5)}</style></head><body>\r\n  <div class="container">\r\n    <div class="actions" id="actions">\r\n    </div>\r\n    <div class="btns">\r\n      <input class="input" placeholder="setState() &#x21B4" style="flex:10 2" type="text" id="setState">\r\n      <button class="btn" id="reset">Reset &#x21BA</button>\r\n      <button class="btn" id="rollback">Rollback &#x21B6</button>\r\n    </div>\r\n    <div class="title">\r\n      jState DevTools\r\n    </div>\r\n  </div>\r\n  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"><\/script><script src="https://cdn.rawgit.com/rannn505/jstate/master/src/jsonviewer/jsonviewer.min.js"><\/script><script src="https://cdn.rawgit.com/benjamine/jsondiffpatch/master/public/build/jsondiffpatch.min.js"><\/script><script src="https://cdn.rawgit.com/benjamine/jsondiffpatch/master/public/build/jsondiffpatch-formatters.min.js"><\/script><script>!function(){function renderNodes(){$("#actions").empty(),$.each(nodes,function(e,t){$("#actions").prepend(\'<div id="\'+t.id+\'"></div>\');var n=$("#"+t.id);e===nodes.length-1&&n.addClass("animated slideInDown"),n.append(\'<div id="\'+t.id+\'T"></div>\'),$("#"+t.id+"T").jsonviewer(t,e===nodes.length-1),n.append(\'<button class="btn" style="width: 100%;"> Toggle diff &#x2195 </button>\'),n.append(\'<div id="\'+t.id+\'B" style="margin-top: 5px;"></div>\');var d=$("#"+t.id+"B");$("#"+t.id+" .btn").click(function(){d.toggle()}),d.hide();var o=diffpatcher.diff(t.oldState,t.state);"undefined"==typeof o?d.html("no diff"):d.html(jsondiffpatch.formatters.html.format(o,t.oldState)),d.append(\'<hr class="hr"/>\')})}if(!window.jQuery)throw new Error("jQuery is not loaded. please check your network connectivity");var nodes=[],id=0,diffpatcher=jsondiffpatch.create({objectHash:function(e,t){return"undefined"!=typeof e._id?e._id:"undefined"!=typeof e.id?e.id:"$$index:"+t}});jsondiffpatch.formatters.html.hideUnchanged(),$(window).on("message",function(e){nodes.push({id:++id,action:e.originalEvent.data.action,state:e.originalEvent.data.state,oldState:e.originalEvent.data.oldState}),renderNodes()}),$("#setState").on("keypress",function(e){var code=e.keyCode?e.keyCode:e.which;if(13===code){e.preventDefault();var input=$("#setState");try{opener.setState(eval("("+input.val()+")")),input.val("")}catch(e){throw new Error("Invalid JSON")}}}),$("#reset").on("click",function(){nodes=[],id=0,opener.overwriteState({}),renderNodes()}),$("#rollback").on("click",function(){nodes.pop()&&nodes.length>0?opener.overwriteState(nodes[nodes.length-1].state):opener.overwriteState({}),renderNodes()}),opener.notifyReady()}();<\/script></body></html>'},{}],3:[function(e,t,n){(function(t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./store");Object.defineProperty(n,"state",{enumerable:!0,get:function(){return o.state}}),Object.defineProperty(n,"setState",{enumerable:!0,get:function(){return o.setState}}),Object.defineProperty(n,"register",{enumerable:!0,get:function(){return o.register}});var r=e("./devTools");Object.defineProperty(n,"showDevTools",{enumerable:!0,get:function(){return r.showDevTools}}),t.jQuery||(t.$={});var i=e("./store");Object.keys(i).forEach(function(e){return"overwriteState"!==e&&Object.defineProperty(t.$,e,Object.getOwnPropertyDescriptor(i,e))}),Object.defineProperty(t.$,"showDevTools",Object.getOwnPropertyDescriptor(e("./devTools"),"showDevTools")),Object.defineProperty(t.$,"_",Object.getOwnPropertyDescriptor(i,"state"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./devTools":1,"./store":4}],4:[function(e,t,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i={},s=[];n.default={get state(){return JSON.parse(JSON.stringify(i))},setState:function(e){if("object"!==(void 0===e?"undefined":r(e)))throw new TypeError("setState() takes an object of state variables to update");i=o({},i,e)},overwriteState:function(e){i=o({},e)},register:function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];s=s.concat(r);var d=s.reduceRight(function(e,t){return function(n){return e(t(n))}})(function(e){return i=o({},i,e)});t.exports.setState=d,e.$.setState=d,t.exports.overwriteState=s.reduceRight(function(e,t){return"__DEVTOOLS__"===t.name?e:function(n){return e(t(n))}})(function(e){return i=o({},e)})}},t.exports=n.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[3])(3)});
//# sourceMappingURL=jstate.dev.min.js.map
