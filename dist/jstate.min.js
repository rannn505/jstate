!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.jstate=e()}}(function(){return function e(t,o,n){function r(s,a){if(!o[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=o[s]={exports:{}};t[s][0].call(d.exports,function(e){var o=t[s][1][e];return r(o||e)},d,d.exports,e,t,o,n)}return o[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,o){"use strict";function n(){var e=window.open(null,"jstate-dev-tools","width=400,height=600,menubar=no,location=no,resizable=yes,scrollbars=no,status=no");e.location.reload();var t=[],o=!1,n=function o(){if(0!==t.length)return e.postMessage(t.shift(),"*"),o()};setTimeout(function(){e.opener={notifyReady:function(){o=!0,n()},setState:r.setState,overwriteState:r.overwriteState,register:r.register},e.document.write(s.default)},0);var i=function(e){return function(i){var s=r.state;e(i),t.push({action:i,state:r.state,oldState:s}),o&&n()}};(0,r.register)(i)}Object.defineProperty(o,"__esModule",{value:!0}),o.showDevTools=n;var r=e("./store"),i=e("./devToolsTemplate.html"),s=function(e){return e&&e.__esModule?e:{default:e}}(i)},{"./devToolsTemplate.html":2,"./store":4}],2:[function(e,t,o){t.exports='<!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <meta charset="utf-8">\r\n  <meta content="IE=edge" http-equiv="X-UA-Compatible">\r\n  <meta name="viewport" content="width=device-width,initial-scale=1">\r\n  <title> jState DevTools </title>\r\n  <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">\r\n  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">\r\n  <link href="https://cdn.rawgit.com/rannn505/jstate/master/src/jsonviewer/jsonviewer.min.css" rel="stylesheet">\r\n  <style>body{position:fixed;top:0;bottom:0;left:0;right:0;padding:0;margin:0;color:#6e6e6e;list-style:none;background-color:#fff;font-family:Inconsolata,monospace;min-height:325px;min-width:325px}.container{width:100%;height:100%;overflow:hidden;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:column;flex-flow:column}.title{font-size:14px;text-align:center}.btns{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;flex-flow:row wrap}.actions{flex:10 2;overflow-y:auto;overflow-x:hidden}.btn{background-color:#fff;border:1px solid #ccc;color:#555;font-family:monospace;border-radius:1px;padding:5px 10px;text-align:center;text-decoration:none;display:inline-block;font-size:14px}.btn:hover{background-color:#ccc}.btn:active{background-color:#c1c1c1}.input{padding:6px 12px;font-size:14px;font-family:Inconsolata,monospace;line-height:1.42857143;color:#555;background-color:#fff;border:1px solid #ccc;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.hr{width:100%}@keyframes example{from{opacity:1}to{opacity:0}}.circle:before{position:absolute;top:10px;right:15px;color:#90ee90;content:\'\\25CF\';font-size:30px}::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,.3);-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}::-webkit-scrollbar{width:4px}::-webkit-scrollbar-thumb{background:rgba(60,63,65,.8);box-shadow:inset 0 0 6px rgba(0,0,0,.5);-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.5)}</style></head><body>\r\n  <div class="container">\r\n    <div class="actions" id="actions">\r\n    </div>\r\n    <div class="btns">\r\n      <input class="input" placeholder="setState()" style="flex:10 2" type="text" id="setState">\r\n      <button class="btn" id="reset">Reset</button>\r\n      <button class="btn" id="rollback">Rollback</button>\r\n    </div>\r\n    <div class="title">\r\n      jState DevTools\r\n    </div>\r\n  </div>\r\n  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"><\/script><script src="https://cdn.rawgit.com/rannn505/jstate/master/src/jsonviewer/jsonviewer.min.js"><\/script><script src="https://cdnjs.cloudflare.com/ajax/libs/jsondiffpatch/0.2.4/jsondiffpatch.min.js"><\/script><script>!function(){function renderNodes(){$("#actions").empty(),$.each(nodes,function(e,t){t.diff=jsondiffpatch.diff(t.oldState,t.state),delete t.oldState,$("#actions").prepend(\'<div id="\'+t.id+\'"></div>\');var n=$("#"+t.id);n.jsonviewer(t,e===nodes.length-1),e===nodes.length-1&&n.addClass("animated slideInDown"),n.append(\'<hr class="hr"/>\')})}if(!window.jQuery)throw new Error("jQuery is not loaded. please check your network connectivity");var nodes=[],id=0;$(window).on("message",function(e){nodes.push({id:++id,action:e.originalEvent.data.action,state:e.originalEvent.data.state,oldState:e.originalEvent.data.oldState}),renderNodes()}),$("#setState").on("keypress",function(e){var code=e.keyCode?e.keyCode:e.which;if(13===code){e.preventDefault();var input=$("#setState");try{opener.setState(eval("("+input.val()+")")),input.val("")}catch(e){throw new Error("Invalid JSON")}}}),$("#reset").on("click",function(){nodes=[],id=0,opener.overwriteState({}),renderNodes()}),$("#rollback").on("click",function(){nodes.pop()&&nodes.length>0?opener.overwriteState(nodes[nodes.length-1].state):opener.overwriteState({}),renderNodes()}),opener.notifyReady()}();<\/script></body></html>'},{}],3:[function(e,t,o){(function(t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e("./store");Object.defineProperty(o,"state",{enumerable:!0,get:function(){return n.state}}),Object.defineProperty(o,"setState",{enumerable:!0,get:function(){return n.setState}}),Object.defineProperty(o,"register",{enumerable:!0,get:function(){return n.register}});var r=e("./devTools");Object.defineProperty(o,"showDevTools",{enumerable:!0,get:function(){return r.showDevTools}}),t.jQuery||(t.$={});var i=e("./store");Object.keys(i).forEach(function(e){return"overwriteState"!==e&&Object.defineProperty(t.$,e,Object.getOwnPropertyDescriptor(i,e))}),Object.defineProperty(t.$,"showDevTools",Object.getOwnPropertyDescriptor(e("./devTools"),"showDevTools")),Object.defineProperty(t.$,"_",Object.getOwnPropertyDescriptor(i,"state"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./devTools":1,"./store":4}],4:[function(e,t,o){(function(e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i={},s=[];o.default={get state(){return r({},i)},setState:function(e){if("object"!==(void 0===e?"undefined":n(e)))throw new TypeError("setState() takes an object of state variables to update");i=r({},i,e)},overwriteState:function(e){i=r({},e)},register:function(){for(var o=arguments.length,n=Array(o),a=0;a<o;a++)n[a]=arguments[a];s=s.concat(n);var l=s.reduceRight(function(e,t){return function(o){return e(t(o))}})(function(e){return i=r({},i,e)});t.exports.setState=l,e.$.setState=l,t.exports.overwriteState=s.reduceRight(function(e,t){return"__DEVTOOLS__"===t.name?e:function(o){return e(t(o))}})(function(e){return i=r({},e)})}},t.exports=o.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[3])(3)});
//# sourceMappingURL=jstate.min.js.map
