!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.jstate=e()}}(function(){return function e(t,o,n){function r(a,s){if(!o[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=o[a]={exports:{}};t[a][0].call(d.exports,function(e){var o=t[a][1][e];return r(o||e)},d,d.exports,e,t,o,n)}return o[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e,t,o){"use strict";function n(){s=window.open(null,"jstate-dev-tools","width=400,height=600,menubar=no,location=no,resizable=yes,scrollbars=no,status=no"),s.location.reload(),(0,r.register)(c),setTimeout(function(){s.opener={getState:r.getState,setState:r.setState,overwriteState:r.overwriteState,register:r.register,queue:l},s.document.write(a.default)},10)}Object.defineProperty(o,"__esModule",{value:!0}),o.showDevTools=n;var r=e("./store"),i=e("./devToolsTemplate.html"),a=function(e){return e&&e.__esModule?e:{default:e}}(i),s=void 0,l=[],c=function(e){return function(t){var o=(0,r.getState)(),n=e(t);return l.push({id:(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),action:t,state:(0,r.getState)(),oldState:o}),s.postMessage("FLUSH","*"),n}}},{"./devToolsTemplate.html":2,"./store":4}],2:[function(e,t,o){t.exports='<!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <meta charset="utf-8">\r\n  <meta content="IE=edge" http-equiv="X-UA-Compatible">\r\n  <meta name="viewport" content="width=device-width,initial-scale=1">\r\n  <title> JState DevTools </title>\r\n  <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">\r\n  <link href="https://cdn.rawgit.com/todylu/monaco.ttf/master/monaco.ttf" rel="stylesheet">\r\n  <link href="https://cdn.rawgit.com/rannn505/jstate/master/src/jsonviewer/jsonviewer.min.css" rel="stylesheet">\r\n  <style>body{position:fixed;top:0;bottom:0;left:0;right:0;padding:0;margin:0;color:#6e6e6e;list-style:none;background-color:#fff;font-family:monaco,Inconsolata,monospace;min-height:325px;min-width:325px}.container{width:100%;height:100%;overflow:hidden;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:column;flex-flow:column}.title{font-size:14px;text-align:center}.btns{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;flex-flow:row wrap}.actions{flex:10 2;overflow-y:auto;overflow-x:hidden}.btn{background-color:#fff;border:1px solid #ccc;color:#555;font-family:monospace;border-radius:1px;padding:5px 10px;text-align:center;text-decoration:none;display:inline-block;font-size:14px}.btn:hover{background-color:#ccc}.btn:active{background-color:#c1c1c1}.input{padding:6px 12px;font-size:14px;font-family:Inconsolata,monospace;line-height:1.42857143;color:#555;background-color:#fff;border:1px solid #ccc;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.hr{width:100%}::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,.3);-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}::-webkit-scrollbar{width:4px}::-webkit-scrollbar-thumb{background:rgba(60,63,65,.8);box-shadow:inset 0 0 6px rgba(0,0,0,.5);-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.5)}</style></head><body>\r\n  <div class="container">\r\n    <div class="actions" id="actions">\r\n    </div>\r\n    <div class="btns">\r\n      <input class="input" placeholder="setState()" style="flex:10 2" type="text" id="setState">\r\n      <button class="btn" id="reset">Reset</button>\r\n      <button class="btn" id="rollback">Rollback</button>\r\n    </div>\r\n    <div class="title">\r\n      JState DevTools\r\n    </div>\r\n  </div>\r\n  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"><\/script><script src="https://cdn.rawgit.com/rannn505/jstate/master/src/jsonviewer/jsonviewer.min.js"><\/script><script src="https://cdnjs.cloudflare.com/ajax/libs/jsondiffpatch/0.2.4/jsondiffpatch.min.js"><\/script><script>!function(){function renderNodes(){$("#actions").empty(),$.each(nodes,function(e,n){$("#actions").prepend(\'<div id="\'+n.id+\'"></div>\');var o=$("#"+n.id);o.jsonviewer(n,e===nodes.length-1),o.append(\'<hr class="hr"/>\')})}function addNode(e){e.diff=jsondiffpatch.diff(e.oldState,e.state),delete e.oldState,nodes.push(e),renderNodes()}function flush(e){if(0!==e.length)return addNode(e.shift()),flush(e)}if(!window.jQuery)throw new Error("jQuery is not loaded. please check your network connectivity");var nodes=[];$(window).on("message",function(){flush(opener.queue)}),$("#setState").on("keypress",function(e){var code=e.keyCode?e.keyCode:e.which;if(13===code){e.preventDefault();var input=$("#setState");try{opener.setState(eval("("+input.val()+")")),input.val("")}catch(e){throw new Error("Invalid JSON")}}}),$("#reset").on("click",function(){nodes=[],opener.overwriteState({}),renderNodes()}),$("#rollback").on("click",function(){nodes.pop()&&nodes.length>0?opener.overwriteState(nodes[nodes.length-1].state):opener.overwriteState({}),renderNodes()}),flush(opener.queue)}();<\/script></body></html>'},{}],3:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e("./store");Object.defineProperty(o,"getState",{enumerable:!0,get:function(){return n.getState}}),Object.defineProperty(o,"setState",{enumerable:!0,get:function(){return n.setState}}),Object.defineProperty(o,"register",{enumerable:!0,get:function(){return n.register}});var r=e("./devTools");Object.defineProperty(o,"showDevTools",{enumerable:!0,get:function(){return r.showDevTools}})},{"./devTools":1,"./store":4}],4:[function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(o,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o.Store=function(){function e(){n(this,e),this.state={},this.middlewares=[]}return a(e,[{key:"getState",value:function(){return i({},this.state)}},{key:"setState",value:function(e){if("object"!==(void 0===e?"undefined":r(e)))throw new TypeError("setState() takes an object of state variables to update");this.state=i({},this.state,e)}}]),e}(),l=new s,c=(o.getState=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return s.prototype.getState.apply(l,t)},o.setState=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return s.prototype.setState.apply(l,t)});o.overwriteState=function(e){return l.state=i({},e)},o.register=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];l.middlewares=l.middlewares.concat(t),o.setState=c=l.middlewares.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})(function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return s.prototype.setState.apply(l,t)})}},{}]},{},[3])(3)});
//# sourceMappingURL=jstate.min.js.map
